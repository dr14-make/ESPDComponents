### DO NOT EDIT THIS FILE
### This file is auto-generated by the Dyad command-line compiler.
### If you edit this code it is likely to get overwritten.
### Instead, update the Dyad source code and regenerate this file


using DyadInterface

@kwdef mutable struct ConventionalVehicle_Comparison_AnalysisSpec <: AbstractTransientAnalysisSpec
  name::Symbol = :ConventionalVehicle_Comparison_Analysis
  var"alg"::String = "Rodas5P"
  var"start"::Float64 = 0
  var"stop"::Float64 = 20
  var"abstol"::Float64 = 0.000001
  var"reltol"::Float64 = 0.000001
  var"saveat"::Float64 = 0
  var"dtmax"::Float64 = 0
  var"IfLifting"::Bool = false
  # ============================================================================
  # Conventional Vehicle Comparison Test
  # ============================================================================
  # 
  # This integration test runs conventional powertrain for performance comparison.
  # 
  # Purpose:
  # - Baseline ICE performance measurement
  # - Energy efficiency measurement
  # - Acceleration and top speed measurement
  # 
  # Note: Requires all conventional components to be implemented!
  # Run this AFTER individual component tests pass.
  # 
  # ============================================================================
  # TODO: Implement conventional powertrain comparison test
  # Conventional powertrain components needed:
  # - engine = Engine(...)
  # - gearbox = Gearbox(...)
  # - differential_conv = Differential(ratio = 3.5)
  # - wheel_left_conv = Wheel(radius = 0.3)
  # - wheel_right_conv = Wheel(radius = 0.3)
  # - brake_left_conv = Brake(tau_max = 2000.0)
  # - brake_right_conv = Brake(tau_max = 2000.0)
  # - vehicle_conv = VehicleBody(m = 1500.0, Cd = 0.32, A = 2.2, ...)
  # 
  # Control inputs:
  # - throttle_cmd = BlockComponents.Constant(k = 0.5)
  # - gear_cmd = BlockComponents.Constant(k = 2.0)  # 2nd gear
  # - brake_cmd = BlockComponents.Constant(k = 0.0)
  # - ground = TranslationalComponents.Fixed()
  # TODO: Add analysis when component is implemented
  # analysis ConventionalVehicle_Comparison_Analysis
  # extends TransientAnalysis(stop = 20.0, alg = "Rodas5P")
  # model = ConventionalVehicle_Comparison()
  # end
  var"model"::Union{Nothing, System} = ESPDComponents.VehicleDynamics.IntegrationTests.ConventionalVehicle_Comparison(; name=:ConventionalVehicle_Comparison)
end

function DyadInterface.run_analysis(spec::ConventionalVehicle_Comparison_AnalysisSpec)
  spec.model = DyadInterface.update_model(spec.model, (; ))
  base_spec = TransientAnalysisSpec(;
    name=:TransientAnalysis, alg=spec.alg, start=spec.start, stop=spec.stop, abstol=spec.abstol, reltol=spec.reltol, saveat=spec.saveat, dtmax=spec.dtmax, IfLifting=spec.IfLifting, model=spec.model
  )
  run_analysis(base_spec)
end

ConventionalVehicle_Comparison_Analysis(;kwargs...) = run_analysis(ConventionalVehicle_Comparison_AnalysisSpec(;kwargs...))
export ConventionalVehicle_Comparison_Analysis, ConventionalVehicle_Comparison_AnalysisSpec
export ConventionalVehicle_Comparison_AnalysisSpec, ConventionalVehicle_Comparison_Analysis
